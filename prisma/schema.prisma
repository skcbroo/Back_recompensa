model Recompensa {
  id             Int       @id @default(autoincrement())
  criadorId      Int
  titulo         String
  descricao      String
  categoria      String?
  valorCentavos  Int
  prazoISO       String?
  scope          String
  uf             String?
  municipioIbge  String?
  latitude       Float?
  longitude      Float?
  raioMetros     Int?
  status         String    @default("EM_REVISAO")
  riskScore      Int?      @default(0)
  criadoEm       DateTime  @default(now())

  criador        Usuario   @relation(fields: [criadorId], references: [id])
  habilitacoes   Habilitacao[]
  entregas       Entrega[]

  // üëá adiciona a rela√ß√£o nomeada
  moderacoes     ModeracaoEvento[] @relation("RecompensaModeracoes")
}

model ModeracaoEvento {
  id           Int       @id @default(autoincrement())

  // üëá cria a FK opcional para Recompensa + lado oposto da rela√ß√£o
  recompensaId Int?
  recompensa   Recompensa? @relation("RecompensaModeracoes", fields: [recompensaId], references: [id], onDelete: Cascade)

  // pode manter campos ‚Äúgen√©ricos‚Äù se quiser (n√£o atrapalham a rela√ß√£o)
  recursoTipo  String?   // ex.: "Recompensa"
  recursoId    Int?

  acao         String    // "APROVAR" | "REJEITAR" | "AJUSTAR"
  motivo       String?
  reviewerId   Int?
  criadoEm     DateTime  @default(now())

  @@index([recompensaId])
}
